(function(){"use strict";var n={4460:function(n,e,t){var o=t(1175),r=t(6768);const i={id:"app"};function a(n,e,t,o,a,u){const s=(0,r.g2)("MapComponent");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(s)])}var u=t(5130);function s(n,e,t,o,i,a){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",null,[e[3]||(e[3]=(0,r.eW)(" 平行线数量：")),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=n=>i.lineCount=n)},null,512),[[u.Jo,i.lineCount]]),e[4]||(e[4]=(0,r.eW)(" 平行线间隔（米）：")),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=n=>i.lineSpacing=n)},null,512),[[u.Jo,i.lineSpacing]])]),(0,r.Lk)("button",{onClick:e[2]||(e[2]=(...n)=>a.saveCoordinates&&a.saveCoordinates(...n))},"保存坐标"),e[5]||(e[5]=(0,r.Lk)("div",{id:"map",class:"map"},null,-1))])}t(4114),t(8992),t(4520),t(3949),t(1454),t(2488);var c=t(850),l=t(8699),p=t(6140),d=t(9298),f=t(4198),h=t(4453),v=t(8225),m=t(3496),w=t(856),g=t(8075),b={data(){return{map:null,source:new f.A,points:[],lineCount:10,lineSpacing:10}},mounted(){this.initMap()},methods:{initMap(){this.map=new c.A({target:"map",layers:[new p.A({source:new d.A({url:"http://online{0-3}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&scaler=1&p=1",maxZoom:18})}),new h.A({source:this.source})],view:new l.Ay({center:(0,g.Rb)([116.397389,39.908722]),zoom:10})}),this.map.on("click",this.handleMapClick)},handleMapClick(n){const e=n.coordinate;this.points.push(e);const t=new w.A(new v.A(e));this.source.addFeature(t),2===this.points.length&&(this.drawMainLine(),this.drawParallelLines())},drawMainLine(){const n=new m.A(this.points),e=new w.A(n);this.source.addFeature(e)},drawParallelLines(){const n=parseInt(this.lineCount),e=parseFloat(this.lineSpacing),t=new m.A(this.points),o=t.getCoordinates(),r=o[1][0]-o[0][0],i=o[1][1]-o[0][1],a=Math.sqrt(r*r+i*i),u=-i/a,s=r/a;for(let c=1;c<=n;c++){const n=e*c,t=o.map((e=>[e[0]+u*n,e[1]+s*n])),r=new w.A(new m.A(t));this.source.addFeature(r);const i=o.map((e=>[e[0]-u*n,e[1]-s*n])),a=new w.A(new m.A(i));this.source.addFeature(a)}},saveCoordinates(){const n=this.source.getFeatures(),e=n.filter((n=>"LineString"===n.getGeometry().getType()));let t="A_lon,A_lat,B_lon,B_lat\n";e.forEach((n=>{const e=n.getGeometry().getCoordinates(),o=(0,g.WP)(e[0]),r=(0,g.WP)(e[e.length-1]);t+=`${o[0]},${o[1]},${r[0]},${r[1]}\n`}));const o=document.createElement("a");o.href="data:text/csv;charset=utf-8,"+encodeURI(t),o.target="_blank",o.download="lines.csv",o.click()}}},y=t(1241);const A=(0,y.A)(b,[["render",s]]);var C=A,k={name:"App",components:{MapComponent:C}};const O=(0,y.A)(k,[["render",a]]);var _=O;o["default"].config.productionTip=!1,new o["default"]({render:n=>n(_)}).$mount("#app")}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return n[o].call(i.exports,i,i.exports,t),i.exports}t.m=n,function(){var n=[];t.O=function(e,o,r,i){if(!o){var a=1/0;for(l=0;l<n.length;l++){o=n[l][0],r=n[l][1],i=n[l][2];for(var u=!0,s=0;s<o.length;s++)(!1&i||a>=i)&&Object.keys(t.O).every((function(n){return t.O[n](o[s])}))?o.splice(s--,1):(u=!1,i<a&&(a=i));if(u){n.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var l=n.length;l>0&&n[l-1][2]>i;l--)n[l]=n[l-1];n[l]=[o,r,i]}}(),function(){t.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(e,{a:e}),e}}(),function(){t.d=function(n,e){for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={524:0};t.O.j=function(e){return 0===n[e]};var e=function(e,o){var r,i,a=o[0],u=o[1],s=o[2],c=0;if(a.some((function(e){return 0!==n[e]}))){for(r in u)t.o(u,r)&&(t.m[r]=u[r]);if(s)var l=s(t)}for(e&&e(o);c<a.length;c++)i=a[c],t.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return t.O(l)},o=self["webpackChunkmy_vue_app"]=self["webpackChunkmy_vue_app"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(4460)}));o=t.O(o)})();
//# sourceMappingURL=app.94cca7ac.js.map